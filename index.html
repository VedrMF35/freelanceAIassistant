<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FreelanceAI ‚Äî –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–∞</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d0d0f;
    --surface: #16161a;
    --surface2: #1e1e24;
    --border: #2a2a35;
    --accent: #7c5cfc;
    --accent2: #fc5c7d;
    --accent3: #5cfcb8;
    --text: #f0f0f5;
    --muted: #7a7a8c;
    --gold: #f0a500;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Inter', sans-serif;
    font-weight: 300;
    min-height: 100vh;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background:
      radial-gradient(ellipse 60% 40% at 20% 10%, rgba(124,92,252,0.12) 0%, transparent 60%),
      radial-gradient(ellipse 40% 30% at 80% 80%, rgba(252,92,125,0.08) 0%, transparent 60%),
      radial-gradient(ellipse 50% 30% at 60% 30%, rgba(92,252,184,0.05) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
  }

  .container { max-width: 860px; margin: 0 auto; padding: 0 24px; position: relative; z-index: 1; }

  header { padding: 36px 0 20px; display: flex; align-items: center; justify-content: space-between; }
  .logo { display: flex; align-items: center; gap: 10px; }
  .logo-icon { width: 34px; height: 34px; background: linear-gradient(135deg, var(--accent), var(--accent2)); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
  .logo-text { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 18px; letter-spacing: -0.5px; }
  .logo-text span { color: var(--accent); }
  .header-right { display: flex; align-items: center; gap: 10px; }
  .badge-free { font-size: 10px; font-weight: 600; color: var(--accent3); background: rgba(92,252,184,0.1); border: 1px solid rgba(92,252,184,0.25); padding: 3px 10px; border-radius: 20px; letter-spacing: 0.5px; text-transform: uppercase; }
  .badge-pro { font-size: 10px; font-weight: 600; color: var(--gold); background: rgba(240,165,0,0.1); border: 1px solid rgba(240,165,0,0.3); padding: 3px 10px; border-radius: 20px; letter-spacing: 0.5px; text-transform: uppercase; }

  .hero { padding: 40px 0 32px; text-align: center; }
  .hero-tag { display: inline-block; font-size: 11px; font-weight: 500; letter-spacing: 2px; text-transform: uppercase; color: var(--accent); margin-bottom: 16px; opacity: 0; animation: fadeUp 0.6s 0.1s forwards; }
  .hero h1 { font-family: 'Syne', sans-serif; font-size: clamp(28px, 5vw, 46px); font-weight: 800; line-height: 1.1; letter-spacing: -1.5px; margin-bottom: 14px; opacity: 0; animation: fadeUp 0.6s 0.2s forwards; }
  .hero h1 em { font-style: normal; background: linear-gradient(90deg, var(--accent), var(--accent2)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
  .hero p { color: var(--muted); font-size: 14px; line-height: 1.7; max-width: 460px; margin: 0 auto 24px; opacity: 0; animation: fadeUp 0.6s 0.3s forwards; }

  .tools-nav { display: flex; gap: 6px; flex-wrap: wrap; justify-content: center; margin-bottom: 28px; opacity: 0; animation: fadeUp 0.6s 0.4s forwards; }
  .tool-tab { padding: 7px 14px; border-radius: 8px; border: 1px solid var(--border); background: var(--surface); color: var(--muted); font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.2s; font-family: 'Inter', sans-serif; }
  .tool-tab:hover { border-color: var(--accent); color: var(--text); }
  .tool-tab.active { background: linear-gradient(135deg, rgba(124,92,252,0.2), rgba(252,92,125,0.1)); border-color: var(--accent); color: var(--text); }
  .tool-tab.locked { opacity: 0.55; }
  .tool-tab.locked:hover { border-color: var(--gold); color: var(--gold); opacity: 1; }

  .card { background: var(--surface); border: 1px solid var(--border); border-radius: 20px; overflow: hidden; margin-bottom: 20px; opacity: 0; animation: fadeUp 0.7s 0.5s forwards; }
  .card-header { padding: 18px 22px 14px; border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 12px; }
  .tool-emoji { width: 36px; height: 36px; background: var(--surface2); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 17px; flex-shrink: 0; }
  .card-title { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 15px; }
  .card-desc { color: var(--muted); font-size: 11px; margin-top: 2px; }
  .card-body { padding: 22px; }

  .free-counter { display: flex; align-items: center; gap: 8px; background: rgba(92,252,184,0.07); border: 1px solid rgba(92,252,184,0.2); border-radius: 8px; padding: 8px 14px; margin-bottom: 16px; font-size: 12px; }
  .free-counter .dot { width: 6px; height: 6px; border-radius: 50%; background: var(--accent3); animation: pulse 2s infinite; flex-shrink: 0; }
  .free-counter span { color: var(--accent3); font-weight: 500; }
  .free-counter .remaining { color: var(--muted); }
  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

  .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px; }
  .form-grid.cols-1 { grid-template-columns: 1fr; }
  .form-grid.cols-3 { grid-template-columns: 1fr 1fr 1fr; }
  label { display: block; font-size: 10px; font-weight: 500; letter-spacing: 0.5px; text-transform: uppercase; color: var(--muted); margin-bottom: 5px; }
  input, select, textarea { width: 100%; background: var(--surface2); border: 1px solid var(--border); border-radius: 10px; color: var(--text); font-family: 'Inter', sans-serif; font-size: 13px; padding: 9px 13px; outline: none; transition: border-color 0.2s; appearance: none; }
  input:focus, select:focus, textarea:focus { border-color: var(--accent); }
  textarea { resize: vertical; min-height: 75px; line-height: 1.6; }
  select { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%237a7a8c' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 12px center; padding-right: 32px; cursor: pointer; }

  .btn-generate { width: 100%; padding: 13px; background: linear-gradient(135deg, var(--accent), var(--accent2)); border: none; border-radius: 12px; color: #fff; font-family: 'Syne', sans-serif; font-weight: 700; font-size: 13px; cursor: pointer; transition: all 0.2s; margin-top: 6px; }
  .btn-generate:hover { opacity: 0.92; transform: translateY(-1px); }
  .btn-generate:active { transform: translateY(0); }
  .btn-generate:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
  .btn-inner { display: flex; align-items: center; justify-content: center; gap: 8px; }

  .result-box { margin-top: 18px; background: var(--surface2); border: 1px solid var(--border); border-radius: 14px; overflow: hidden; display: none; }
  .result-box.visible { display: block; animation: fadeUp 0.4s forwards; }
  .result-header { padding: 9px 14px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; }
  .result-label { font-size: 10px; font-weight: 600; letter-spacing: 1px; text-transform: uppercase; color: var(--accent3); }
  .copy-btn { font-size: 11px; color: var(--muted); background: none; border: 1px solid var(--border); border-radius: 6px; padding: 3px 10px; cursor: pointer; font-family: 'Inter', sans-serif; transition: all 0.2s; }
  .copy-btn:hover { color: var(--text); border-color: var(--accent); }
  .result-content { padding: 16px; font-size: 13px; line-height: 1.75; color: var(--text); white-space: pre-wrap; word-break: break-word; min-height: 60px; }

  .loading-dots { display: inline-flex; gap: 4px; align-items: center; }
  .loading-dots span { width: 5px; height: 5px; background: white; border-radius: 50%; animation: dot 1.2s infinite; }
  .loading-dots span:nth-child(2) { animation-delay: 0.2s; }
  .loading-dots span:nth-child(3) { animation-delay: 0.4s; }
  @keyframes dot { 0%, 80%, 100% { opacity: 0.2; transform: scale(0.8); } 40% { opacity: 1; transform: scale(1); } }

  /* PAYWALL CARD */
  .paywall-card { background: var(--surface); border: 1px solid rgba(240,165,0,0.25); border-radius: 20px; overflow: hidden; margin-bottom: 20px; opacity: 0; animation: fadeUp 0.7s 0.5s forwards; }
  .paywall-card-header { padding: 18px 22px 14px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; }
  .paywall-card-left { display: flex; align-items: center; gap: 12px; }
  .pro-tag { font-size: 10px; font-weight: 700; color: var(--gold); background: rgba(240,165,0,0.12); border: 1px solid rgba(240,165,0,0.3); padding: 3px 10px; border-radius: 20px; text-transform: uppercase; letter-spacing: 0.5px; }
  .paywall-body { padding: 22px; }
  .paywall-preview { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
  .preview-item { background: var(--surface2); border-radius: 10px; padding: 12px 14px; border: 1px solid var(--border); }
  .preview-item-icon { font-size: 16px; margin-bottom: 4px; }
  .preview-item-title { font-size: 12px; font-weight: 600; color: var(--text); margin-bottom: 2px; font-family: 'Syne', sans-serif; }
  .preview-item-desc { font-size: 11px; color: var(--muted); line-height: 1.4; }
  .btn-unlock { width: 100%; padding: 14px; background: linear-gradient(135deg, var(--gold), #fc5c7d); border: none; border-radius: 12px; color: #fff; font-family: 'Syne', sans-serif; font-weight: 800; font-size: 14px; cursor: pointer; transition: all 0.2s; }
  .btn-unlock:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(240,165,0,0.25); }
  .unlock-sub { text-align: center; margin-top: 10px; font-size: 11px; color: var(--muted); }
  .unlock-sub strong { color: var(--gold); }

  /* LIMIT MODAL */
  .modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 100; display: none; align-items: center; justify-content: center; backdrop-filter: blur(6px); }
  .modal-backdrop.show { display: flex; animation: fadeIn 0.2s forwards; }
  .modal { background: var(--surface); border: 1px solid rgba(240,165,0,0.3); border-radius: 24px; padding: 36px 32px; max-width: 400px; width: 90%; text-align: center; animation: scaleUp 0.25s forwards; }
  .modal-emoji { font-size: 44px; margin-bottom: 14px; }
  .modal-title { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 22px; color: var(--gold); margin-bottom: 8px; }
  .modal-desc { color: var(--muted); font-size: 13px; line-height: 1.6; margin-bottom: 22px; }
  .modal-list { background: var(--surface2); border-radius: 14px; padding: 18px 20px; margin-bottom: 22px; text-align: left; display: flex; flex-direction: column; gap: 10px; }
  .modal-item { font-size: 12px; color: var(--text); display: flex; align-items: center; gap: 10px; }
  .modal-item::before { content: '‚ú¶'; color: var(--gold); font-size: 10px; flex-shrink: 0; }
  .modal-price { font-size: 13px; color: var(--muted); margin-bottom: 16px; }
  .modal-price strong { color: var(--gold); font-size: 22px; font-family: 'Syne', sans-serif; }
  .modal-btn { width: 100%; padding: 14px; background: linear-gradient(135deg, var(--gold), #fc5c7d); border: none; border-radius: 14px; color: #fff; font-family: 'Syne', sans-serif; font-weight: 800; font-size: 15px; cursor: pointer; transition: all 0.2s; }
  .modal-btn:hover { opacity: 0.92; transform: translateY(-1px); }
  .modal-close { margin-top: 14px; color: var(--muted); font-size: 12px; cursor: pointer; background: none; border: none; font-family: 'Inter', sans-serif; text-decoration: underline; }

  @keyframes scaleUp { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

  .key-section { margin-top: 16px; }
  .key-divider { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
  .key-divider::before, .key-divider::after { content: ''; flex: 1; height: 1px; background: var(--border); }
  .key-divider span { font-size: 11px; color: var(--muted); white-space: nowrap; }
  .key-input-row { display: flex; gap: 8px; }
  .key-input-row input { flex: 1; background: var(--surface2); border: 1px solid var(--border); border-radius: 10px; color: var(--text); font-family: 'Courier New', monospace; font-size: 14px; padding: 10px 14px; outline: none; transition: border-color 0.2s; letter-spacing: 2px; text-transform: uppercase; }
  .key-input-row input:focus { border-color: var(--accent); }
  .key-btn { padding: 10px 18px; background: var(--surface2); border: 1px solid var(--border); border-radius: 10px; color: var(--text); font-family: 'Syne', sans-serif; font-weight: 700; font-size: 12px; cursor: pointer; transition: all 0.2s; white-space: nowrap; }
  .key-btn:hover { border-color: var(--accent); color: var(--accent); }
  .key-error { font-size: 11px; color: var(--accent2); margin-top: 6px; min-height: 16px; }
  .pro-banner { background: linear-gradient(135deg, rgba(240,165,0,0.12), rgba(252,92,125,0.08)); border: 1px solid rgba(240,165,0,0.3); border-radius: 10px; padding: 10px 16px; margin-bottom: 20px; display: none; align-items: center; gap: 10px; font-size: 12px; color: var(--gold); font-weight: 500; }
  .pro-banner.show { display: flex; animation: fadeUp 0.4s forwards; }
  .pro-banner .pro-dot { width: 7px; height: 7px; border-radius: 50%; background: var(--gold); flex-shrink: 0; }

  .features { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 28px; opacity: 0; animation: fadeUp 0.7s 0.6s forwards; }
  .feature-card { background: var(--surface); border: 1px solid var(--border); border-radius: 14px; padding: 16px; }
  .feature-icon { font-size: 18px; margin-bottom: 8px; }
  .feature-title { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 12px; margin-bottom: 3px; }
  .feature-desc { color: var(--muted); font-size: 10px; line-height: 1.5; }

  .tool-panel { display: none; }
  .tool-panel.active { display: block; }

  @keyframes fadeUp { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }

  footer { text-align: center; padding: 28px 0 40px; color: var(--muted); font-size: 11px; opacity: 0; animation: fadeUp 0.6s 0.8s forwards; }
  footer a { color: var(--accent); text-decoration: none; }

  @media (max-width: 600px) {
    .form-grid, .paywall-preview { grid-template-columns: 1fr; }
    .form-grid.cols-3 { grid-template-columns: 1fr 1fr; }
    .features { grid-template-columns: 1fr; }
    .tools-nav { gap: 4px; }
    .tool-tab { font-size: 11px; padding: 6px 11px; }
  }
</style>
</head>
<body>

<!-- LIMIT MODAL -->
<div class="modal-backdrop" id="limitModal">
  <div class="modal">
    <div class="modal-emoji">üöÄ</div>
    <div class="modal-title">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å</div>
    <div class="modal-desc">–ü–æ–ª—É—á–∏ –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø ‚Äî —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–π –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–π –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.</div>
    <div class="modal-list">
      <div class="modal-item">–ü–∏—Å—å–º–∞ –∫–ª–∏–µ–Ω—Ç–∞–º ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ, –∫–æ–Ω—Ñ–ª–∏–∫—Ç, —Å–¥–∞—á–∞ —Ä–∞–±–æ—Ç—ã</div>
      <div class="modal-item">–°–∫—Ä–∏–ø—Ç –ø–æ–≤—ã—à–µ–Ω–∏—è —Ü–µ–Ω—ã –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–ª–∏–µ–Ω—Ç–∞</div>
      <div class="modal-item">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –ø–æ–¥ —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç</div>
      <div class="modal-item">–ó–∞—â–∏—Ç–∞ –æ—Ç scope creep ‚Äî –¥–æ–ø. —Ä–∞–±–æ—Ç—ã –∑–∞ –¥–æ–ø. –¥–µ–Ω—å–≥–∏</div>
      <div class="modal-item">–°–µ—Ä–∏—è –ø–∏—Å–µ–º —á—Ç–æ–±—ã –≤—ã–±–∏—Ç—å –¥–æ–ª–≥</div>
      <div class="modal-item">–ê–Ω–∞–ª–∏–∑ –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî –∫—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏ –∏ —Ä–∏—Å–∫–∏</div>
      <div class="modal-item">–ö–ü –∏ –û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ ‚Äî –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ</div>
    </div>
    <div class="modal-price">–†–∞–∑–æ–≤—ã–π –¥–æ—Å—Ç—É–ø ‚Äî <strong>490 ‚ÇΩ</strong></div>
    <button class="modal-btn" onclick="goToPay()">‚ú¶ –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø</button>
    <div class="key-section">
      <div class="key-divider"><span>–∏–ª–∏ –≤–≤–µ–¥–∏ –∫–ª—é—á –∞–∫—Ç–∏–≤–∞—Ü–∏–∏</span></div>
      <div class="key-input-row">
        <input type="text" id="keyInput" placeholder="XXXX-XXXX-XXXX-XXXX" maxlength="19" oninput="formatKey(this)" autocomplete="off" spellcheck="false">
        <button class="key-btn" onclick="activateKey()">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
      <div id="keyError" class="key-error"></div>
    </div>
    <button class="modal-close" onclick="closeModal()">–ù–µ—Ç, –æ—Å—Ç–∞–Ω—É—Å—å –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏</button>
  </div>
</div>

<div class="container">

  <div class="pro-banner" id="proBanner">
    <div class="pro-dot"></div>
    <span>‚ú¶ PRO –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω ‚Äî –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ</span>
  </div>

  <header>
    <div class="logo">
      <div class="logo-icon">‚ö°</div>
      <div class="logo-text">Freelance<span>AI</span></div>
    </div>
    <div class="header-right">
      <span id="planBadge" class="badge-free">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
      <span id="usageCounter" style="font-size:11px;color:var(--muted)"></span>
    </div>
  </header>

  <section class="hero">
    <div class="hero-tag">–ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–∞</div>
    <h1>–†—É—Ç–∏–Ω–∞ ‚Äî –∑–∞ —Å–µ–∫—É–Ω–¥—ã.<br><em>–î–µ–Ω—å–≥–∏ ‚Äî –∑–∞ —Ä–∞–±–æ—Ç—É.</em></h1>
    <p>–ö–ü, –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤, –ø–∏—Å—å–º–∞ –∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã ‚Äî –∑–∞ 10 —Å–µ–∫—É–Ω–¥. –ü–æ–ø—Ä–æ–±—É–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.</p>
  </section>

  <div class="tools-nav">
    <button class="tool-tab active"  onclick="switchTool('kp',this)">üìÑ –ö–ü</button>
    <button class="tool-tab"         onclick="switchTool('estimate',this)">üßÆ –û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞</button>
    <button class="tool-tab locked"  onclick="switchTool('pro',this)">‚úâÔ∏è –ü–∏—Å—å–º–æ –∫–ª–∏–µ–Ω—Ç—É üîí</button>
    <button class="tool-tab locked"  onclick="switchTool('pro',this)">üí∞ –ü–æ–¥–Ω—è—Ç—å —Ü–µ–Ω—É üîí</button>
    <button class="tool-tab locked"  onclick="switchTool('pro',this)">üìù –ö–æ–Ω—Ç—Ä–∞–∫—Ç üîí</button>
    <button class="tool-tab locked"  onclick="switchTool('pro',this)">üõ° Scope creep üîí</button>
    <button class="tool-tab locked"  onclick="switchTool('pro',this)">üí∏ –í—ã–±–∏—Ç—å –¥–æ–ª–≥ üîí</button>
    <button class="tool-tab locked"  onclick="switchTool('pro',this)">üîç –ê–Ω–∞–ª–∏–∑ –∫–ª–∏–µ–Ω—Ç–∞ üîí</button>
  </div>

  <!-- ‚îÄ‚îÄ –ö–ü (FREE) ‚îÄ‚îÄ -->
  <div class="card tool-panel active" id="panel-kp">
    <div class="card-header">
      <div class="tool-emoji">üìÑ</div>
      <div>
        <div class="card-title">–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</div>
        <div class="card-desc">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ö–ü –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞ 10 —Å–µ–∫—É–Ω–¥</div>
      </div>
    </div>
    <div class="card-body">
      <div class="free-counter">
        <div class="dot"></div>
        <span>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</span>
        <span class="remaining" id="counter-display"></span>
      </div>
      <div class="form-grid">
        <div>
          <label>–¢–≤–æ—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</label>
          <select id="kp-spec">
            <option>–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</option><option>–î–∏–∑–∞–π–Ω–µ—Ä</option>
            <option>–ú–æ–±–∏–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</option><option>–ö–æ–ø–∏—Ä–∞–π—Ç–µ—Ä</option>
            <option>SMM-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç</option><option>–ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥</option>
            <option>–ê–Ω–∞–ª–∏—Ç–∏–∫ –¥–∞–Ω–Ω—ã—Ö</option><option>Fullstack-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</option>
          </select>
        </div>
        <div>
          <label>–¢–∏–ø –∫–ª–∏–µ–Ω—Ç–∞</label>
          <select id="kp-client">
            <option>–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å</option><option>–°—Ç–∞—Ä—Ç–∞–ø</option>
            <option>–ö—Ä—É–ø–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è</option><option>–ß–∞—Å—Ç–Ω–æ–µ –ª–∏—Ü–æ</option><option>–ê–≥–µ–Ω—Ç—Å—Ç–≤–æ</option>
          </select>
        </div>
      </div>
      <div class="form-grid cols-1">
        <div><label>–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å</label>
        <textarea id="kp-task" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ª–µ–Ω–¥–∏–Ω–≥ –¥–ª—è –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å–∞ —Å —Ñ–æ—Ä–º–æ–π –∑–∞–ø–∏—Å–∏ –∏ –æ–ø–ª–∞—Ç–æ–π"></textarea></div>
      </div>
      <div class="form-grid cols-3">
        <div><label>–ë—é–¥–∂–µ—Ç (‚ÇΩ)</label><input id="kp-price" placeholder="50 000"></div>
        <div><label>–°—Ä–æ–∫</label><input id="kp-deadline" placeholder="7‚Äì10 –¥–Ω–µ–π"></div>
        <div><label>–¢–æ–Ω</label>
          <select id="kp-tone">
            <option value="–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –Ω–æ –∂–∏–≤–æ–π">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π</option>
            <option value="–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π">–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π</option>
            <option value="—Å—Ç—Ä–æ–≥–∏–π –¥–µ–ª–æ–≤–æ–π">–î–µ–ª–æ–≤–æ–π</option>
          </select>
        </div>
      </div>
      <button class="btn-generate" onclick="generate('kp')">
        <div class="btn-inner" id="btn-kp"><span>‚ú¶</span><span>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ö–ü</span></div>
      </button>
      <div class="result-box" id="result-kp">
        <div class="result-header"><span class="result-label">–ì–æ—Ç–æ–≤–æ–µ –ö–ü</span><button class="copy-btn" onclick="copyResult('result-kp')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button></div>
        <div class="result-content" id="content-kp"></div>
      </div>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ –û–¶–ï–ù–ö–ê (FREE) ‚îÄ‚îÄ -->
  <div class="card tool-panel" id="panel-estimate">
    <div class="card-header">
      <div class="tool-emoji">üßÆ</div>
      <div>
        <div class="card-title">–û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞</div>
        <div class="card-desc">–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã, —Ä–∏—Å–∫–∏ –∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è —Ü–µ–Ω–∞ –∑–∞ 10 —Å–µ–∫—É–Ω–¥</div>
      </div>
    </div>
    <div class="card-body">
      <div class="free-counter">
        <div class="dot"></div>
        <span>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</span>
        <span class="remaining" id="counter-display2"></span>
      </div>
      <div class="form-grid cols-1">
        <div><label>–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞</label>
        <textarea id="est-task" placeholder="–í—Å—Ç–∞–≤—å —Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏ –∫–∞–∫ –µ—Å—Ç—å ‚Äî –ò–ò —Ä–∞–∑–±–µ—Ä—ë—Ç—Å—è..."></textarea></div>
      </div>
      <div class="form-grid">
        <div><label>–¢–≤–æ—è —Å—Ç–∞–≤–∫–∞ (‚ÇΩ/—á–∞—Å)</label><input id="est-rate" placeholder="2 000"></div>
        <div><label>–£—Ä–æ–≤–µ–Ω—å</label>
          <select id="est-level"><option>–î–∂—É–Ω–∏–æ—Ä</option><option selected>–ú–∏–¥–ª</option><option>–°–µ–Ω—å–æ—Ä</option></select>
        </div>
      </div>
      <button class="btn-generate" onclick="generate('estimate')">
        <div class="btn-inner" id="btn-estimate"><span>‚ú¶</span><span>–û—Ü–µ–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</span></div>
      </button>
      <div class="result-box" id="result-estimate">
        <div class="result-header"><span class="result-label">–û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞</span><button class="copy-btn" onclick="copyResult('result-estimate')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button></div>
        <div class="result-content" id="content-estimate"></div>
      </div>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ PRO PAYWALL ‚îÄ‚îÄ -->
  <div class="paywall-card tool-panel" id="panel-pro">
    <div class="paywall-card-header">
      <div class="paywall-card-left">
        <div class="tool-emoji">üîê</div>
        <div>
          <div class="card-title">PRO-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</div>
          <div class="card-desc">6 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤</div>
        </div>
      </div>
      <span class="pro-tag">PRO</span>
    </div>
    <div class="paywall-body">
      <div class="paywall-preview">
        <div class="preview-item"><div class="preview-item-icon">‚úâÔ∏è</div><div class="preview-item-title">–ü–∏—Å—å–º–æ –∫–ª–∏–µ–Ω—Ç—É</div><div class="preview-item-desc">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ–± –æ–ø–ª–∞—Ç–µ, –∫–æ–Ω—Ñ–ª–∏–∫—Ç, —Å–¥–∞—á–∞ —Ä–∞–±–æ—Ç—ã ‚Äî –ª—é–±–∞—è —Å–∏—Ç—É–∞—Ü–∏—è</div></div>
        <div class="preview-item"><div class="preview-item-icon">üí∞</div><div class="preview-item-title">–ü–æ–¥–Ω—è—Ç—å —Ü–µ–Ω—É</div><div class="preview-item-desc">–°–∫—Ä–∏–ø—Ç –ø–æ–≤—ã—à–µ–Ω–∏—è —Å—Ç–∞–≤–∫–∏ —Å –æ—Ç–≤–µ—Ç–∞–º–∏ –Ω–∞ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è</div></div>
        <div class="preview-item"><div class="preview-item-icon">üìù</div><div class="preview-item-title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</div><div class="preview-item-desc">–ü—Ä–æ—Å—Ç–æ–π –¥–æ–≥–æ–≤–æ—Ä –ø–æ–¥ —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç ‚Äî —Å—Ä–æ–∫–∏, –æ–ø–ª–∞—Ç–∞, –ø—Ä–∞–≤–∫–∏</div></div>
        <div class="preview-item"><div class="preview-item-icon">üõ°</div><div class="preview-item-title">–ó–∞—â–∏—Ç–∞ –æ—Ç scope creep</div><div class="preview-item-desc">–î–æ–ø. —Ä–∞–±–æ—Ç—ã ‚Äî –∑–∞ –¥–æ–ø. –¥–µ–Ω—å–≥–∏. –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–º</div></div>
        <div class="preview-item"><div class="preview-item-icon">üí∏</div><div class="preview-item-title">–í—ã–±–∏—Ç—å –¥–æ–ª–≥</div><div class="preview-item-desc">3 –ø–∏—Å—å–º–∞ —Å –Ω–∞—Ä–∞—Å—Ç–∞—é—â–∏–º –¥–∞–≤–ª–µ–Ω–∏–µ–º ‚Äî –æ—Ç –º—è–≥–∫–æ–≥–æ –¥–æ –∂—ë—Å—Ç–∫–æ–≥–æ</div></div>
        <div class="preview-item"><div class="preview-item-icon">üîç</div><div class="preview-item-title">–ê–Ω–∞–ª–∏–∑ –∫–ª–∏–µ–Ω—Ç–∞</div><div class="preview-item-desc">–ö—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏ –ø–æ —Ç–µ–∫—Å—Ç—É –ø—Ä–æ–µ–∫—Ç–∞. –ë—Ä–∞—Ç—å –∏–ª–∏ –Ω–µ –±—Ä–∞—Ç—å?</div></div>
      </div>
      <button class="btn-unlock" onclick="goToPay()">üîì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë –∑–∞ 490 ‚ÇΩ</button>
      <div class="unlock-sub">–†–∞–∑–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞ ¬∑ –ë–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ ¬∑ –î–æ—Å—Ç—É–ø –Ω–∞–≤—Å–µ–≥–¥–∞ ¬∑ <strong>–ö–ü –∏ –û—Ü–µ–Ω–∫–∞ ‚Äî –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ</strong></div>
    </div>
  </div>

  <div class="features">
    <div class="feature-card"><div class="feature-icon">‚ö°</div><div class="feature-title">10 —Å–µ–∫—É–Ω–¥</div><div class="feature-desc">–í–º–µ—Å—Ç–æ —á–∞—Å–∞ –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ö–ü –≤—Ä—É—á–Ω—É—é</div></div>
    <div class="feature-card"><div class="feature-icon">üéØ</div><div class="feature-title">–ü–æ–¥ —Ç–µ–±—è</div><div class="feature-desc">–£—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏</div></div>
    <div class="feature-card"><div class="feature-icon">üîí</div><div class="feature-title">8 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</div><div class="feature-desc">2 –±–µ—Å–ø–ª–∞—Ç–Ω–æ + 6 –≤ PRO-–≤–µ—Ä—Å–∏–∏</div></div>
  </div>

  <footer>–°–¥–µ–ª–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é <a href="#">Claude AI</a> ¬∑ FreelanceAI ¬∑ <a href="#" onclick="goToPay()">–ü–æ–ª—É—á–∏—Ç—å PRO ‚Üí</a></footer>
</div>

<script>
const FREE_LIMIT = 5;
const PAY_LINK = 'https://t.me/tribute'; // ‚Üê –ó–ê–ú–ï–ù–ò –Ω–∞ —Å–≤–æ—é —Å—Å—ã–ª–∫—É

let usedCount = parseInt(localStorage.getItem('fai_used') || '0');

function updateCounter() {
  const left = Math.max(0, FREE_LIMIT - usedCount);
  const txt = `¬∑ –æ—Å—Ç–∞–ª–æ—Å—å ${left} –∏–∑ ${FREE_LIMIT}`;
  const el1 = document.getElementById('counter-display');
  const el2 = document.getElementById('counter-display2');
  if (el1) el1.textContent = txt;
  if (el2) el2.textContent = txt;
  const counter = document.getElementById('usageCounter');
  if (counter) counter.textContent = `–ì–µ–Ω–µ—Ä–∞—Ü–∏–π: ${left}/${FREE_LIMIT}`;
}
updateCounter();

function canGenerate() { return usedCount < FREE_LIMIT; }

function trackUsage() {
  usedCount++;
  localStorage.setItem('fai_used', usedCount);
  updateCounter();
  if (usedCount >= FREE_LIMIT) setTimeout(() => showModal(), 1800);
}

const PROMPTS = {
  kp: (d) => `–¢—ã –æ–ø—ã—Ç–Ω—ã–π ${d.spec} –Ω–∞ —Ñ—Ä–∏–ª–∞–Ω—Å–µ. –ù–∞–ø–∏—à–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ (${d.client}).

–ó–∞–¥–∞—á–∞: ${d.task}
–°—Ç–æ–∏–º–æ—Å—Ç—å: ${d.price} ‚ÇΩ
–°—Ä–æ–∫: ${d.deadline}
–¢–æ–Ω: ${d.tone}

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
2. –¢–≤–æ—ë —Ä–µ—à–µ–Ω–∏–µ (3-4 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞)
3. –ü–æ—á–µ–º—É —Ç—ã (1-2 –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –±–µ–∑ —Ö–≤–∞—Å—Ç–æ–≤—Å—Ç–≤–∞)
4. –£—Å–ª–æ–≤–∏—è: —Å—Ç–æ–∏–º–æ—Å—Ç—å, —Å—Ä–æ–∫, —á—Ç–æ –≤—Ö–æ–¥–∏—Ç
5. –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ (–ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é)

–ü–∏—à–∏ –∂–∏–≤–æ, –±–µ–∑ —à—Ç–∞–º–ø–æ–≤. –ú–∞–∫—Å–∏–º—É–º 1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ê4.`,

  estimate: (d) => `–¢—ã –æ–ø—ã—Ç–Ω—ã–π —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä —É—Ä–æ–≤–Ω—è ${d.level}. –°—Ç–∞–≤–∫–∞: ${d.rate} ‚ÇΩ/—á–∞—Å.

–ö–ª–∏–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–ª: "${d.task}"

–°–¥–µ–ª–∞–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É:
1. –†–∞–∑–±–∏–≤–∫–∞ –∑–∞–¥–∞—á ‚Äî –≤—Å–µ –ø–æ–¥–∑–∞–¥–∞—á–∏ –∏ —á–∞—Å—ã –Ω–∞ –∫–∞–∂–¥—É—é
2. –ò—Ç–æ–≥–æ —á–∞—Å–æ–≤ ‚Äî –º–∏–Ω–∏–º—É–º –∏ –º–∞–∫—Å–∏–º—É–º
3. –ò—Ç–æ–≥–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å ‚Äî –≤ —Ä—É–±–ª—è—Ö + –¥–æ–±–∞–≤—å 20% –Ω–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–æ–µ
4. –†–∏—Å–∫–∏ ‚Äî —á—Ç–æ –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –æ–±—ä—ë–º —Ä–∞–±–æ—Ç—ã (2-3 –ø—É–Ω–∫—Ç–∞)
5. –ß—Ç–æ —É—Ç–æ—á–Ω–∏—Ç—å ‚Äî –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ—Ç —Ç–æ—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
6. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è ‚Äî —Å—Ç–æ–∏—Ç –ª–∏ –±—Ä–∞—Ç—å—Å—è

–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã.`,
};

function getFormData(tool) {
  if (tool === 'kp') return {
    spec: document.getElementById('kp-spec').value,
    client: document.getElementById('kp-client').value,
    task: document.getElementById('kp-task').value || '—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–∞',
    price: document.getElementById('kp-price').value || '50 000',
    deadline: document.getElementById('kp-deadline').value || '7‚Äì10 –¥–Ω–µ–π',
    tone: document.getElementById('kp-tone').value,
  };
  if (tool === 'estimate') return {
    task: document.getElementById('est-task').value || '—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ª–µ–Ω–¥–∏–Ω–≥–∞',
    rate: document.getElementById('est-rate').value || '2000',
    level: document.getElementById('est-level').value,
  };
}

async function generate(tool) {
  if (!canGenerate()) { showModal(); return; }

  const btn = document.getElementById(`btn-${tool}`);
  const resultBox = document.getElementById(`result-${tool}`);
  const contentEl = document.getElementById(`content-${tool}`);
  const prompt = PROMPTS[tool](getFormData(tool));

  btn.innerHTML = `<span class="loading-dots"><span></span><span></span><span></span></span>`;
  btn.closest('button').disabled = true;
  resultBox.classList.add('visible');
  contentEl.textContent = '';

  try {
    const res = await fetch('https://api.anthropic.com/v1/messages', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        model: 'claude-sonnet-4-20250514',
        max_tokens: 1000,
        messages: [{ role: 'user', content: prompt }]
      })
    });
    const json = await res.json();
    if (json.content?.[0]?.text) {
      contentEl.textContent = json.content[0].text;
      trackUsage();
    } else {
      contentEl.textContent = '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.';
    }
  } catch {
    contentEl.textContent = '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.';
  }

  btn.innerHTML = `<span>‚ú¶</span><span>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</span>`;
  btn.closest('button').disabled = false;
}

function switchTool(tool, el) {
  document.querySelectorAll('.tool-panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.tool-tab').forEach(t => t.classList.remove('active'));
  const panel = document.getElementById(`panel-${tool}`);
  if (panel) panel.classList.add('active');
  el.classList.add('active');
}

// ‚îÄ‚îÄ KEY SYSTEM ‚îÄ‚îÄ
// –ö–ª—é—á–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —ç—Ç–æ–º —Å–ø–∏—Å–∫–µ.
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ —Å–≥–æ—Ä–µ–≤—à–∏–µ —á–µ—Ä–µ–∑ localStorage.
const VALID_KEYS = [
  // –°—é–¥–∞ –≤—Å—Ç–∞–≤–ª—è–π —Å–≤–æ–∏ –∫–ª—é—á–∏ ‚Äî –æ–¥–∏–Ω –∫–ª—é—á –Ω–∞ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É:
  // 'ABCD-1234-EFGH-5678',
];

function formatKey(input) {
  let val = input.value.replace(/[^A-Za-z0-9]/g, '').toUpperCase();
  let formatted = val.match(/.{1,4}/g)?.join('-') || val;
  input.value = formatted.slice(0, 19);
}

function activateKey() {
  const input = document.getElementById('keyInput');
  const errorEl = document.getElementById('keyError');
  const key = input.value.trim().toUpperCase();

  if (key.length < 4) { errorEl.textContent = '–í–≤–µ–¥–∏ –∫–ª—é—á –∞–∫—Ç–∏–≤–∞—Ü–∏–∏'; return; }

  // Check if already used
  const usedKeys = JSON.parse(localStorage.getItem('fai_used_keys') || '[]');
  if (usedKeys.includes(key)) {
    errorEl.textContent = '–≠—Ç–æ—Ç –∫–ª—é—á —É–∂–µ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω';
    return;
  }

  // Check if valid
  if (!VALID_KEYS.includes(key)) {
    errorEl.textContent = '–ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á. –ü—Ä–æ–≤–µ—Ä—å –∏ –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑';
    return;
  }

  // Activate!
  usedKeys.push(key);
  localStorage.setItem('fai_used_keys', JSON.stringify(usedKeys));
  localStorage.setItem('fai_pro', '1');
  activatePro();
  closeModal();
  errorEl.textContent = '';
}

function activatePro() {
  localStorage.setItem('fai_pro', '1');
  // Update badge
  document.getElementById('planBadge').textContent = 'PRO ‚ú¶';
  document.getElementById('planBadge').className = 'badge-pro';
  document.getElementById('usageCounter').textContent = '';
  // Show banner
  document.getElementById('proBanner').classList.add('show');
  // Update counters
  ['counter-display','counter-display2'].forEach(id => {
    const el = document.getElementById(id);
    if (el) el.textContent = '¬∑ –±–µ–∑–ª–∏–º–∏—Ç–Ω–æ';
  });
}

function checkProStatus() {
  if (localStorage.getItem('fai_pro') === '1') activatePro();
}
checkProStatus();

function canGenerate() {
  if (localStorage.getItem('fai_pro') === '1') return true;
  return usedCount < FREE_LIMIT;
}

function showModal() { document.getElementById('limitModal').classList.add('show'); }
function closeModal() { document.getElementById('limitModal').classList.remove('show'); }
function goToPay() { window.open(PAY_LINK, '_blank'); closeModal(); }

function copyResult(id) {
  const text = document.getElementById(id).querySelector('.result-content').textContent;
  navigator.clipboard.writeText(text).then(() => {
    const btn = document.getElementById(id).querySelector('.copy-btn');
    btn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ ‚úì';
    setTimeout(() => btn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å', 2000);
  });
}
</script>
</body>
</html>
